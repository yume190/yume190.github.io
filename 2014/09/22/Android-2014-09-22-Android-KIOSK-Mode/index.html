<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="IDEA:

只有跑特定一隻客製的APP
避免其他APP執行(除了白名單的APP)

General requirements for such applications
只允許單一APP執行
只能聯絡白名單的聯絡人(透過電話或SMS)。Only whitelisted contacts are allowed to be contacted (via Phone or SMS)
只有白名單APP可以被使用
追蹤APP安裝及反安裝
Disable status bar.">
    

    <!--Author-->
    
        <meta name="author" content="Yume">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Android KIOSK Mode"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Yume 練功地"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Android KIOSK Mode - Yume 練功地</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2014/09/22/Android-2014-09-22-Android-KIOSK-Mode/">
                Android KIOSK Mode
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-09-22</span>
            
            <a href="#disqus_thread" class="comments">Kommentare</a>
            
                <span class="category">
                    <a href="/categories/Android/">Android</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <p>IDEA:</p>
<ul>
<li>只有跑特定一隻客製的APP</li>
<li>避免其他APP執行(除了白名單的APP)</li>
</ul>
<h2 id="General-requirements-for-such-applications"><a href="#General-requirements-for-such-applications" class="headerlink" title="General requirements for such applications"></a>General requirements for such applications</h2><ul>
<li>只允許單一APP執行</li>
<li>只能聯絡白名單的聯絡人(透過電話或SMS)。Only whitelisted contacts are allowed to be contacted (via Phone or SMS)</li>
<li>只有白名單APP可以被使用</li>
<li>追蹤APP安裝及反安裝</li>
<li>Disable status bar.</li>
</ul>
<a id="more"></a>
<h2 id="Approaches-for-developing-Kiosk-Mode-applications"><a href="#Approaches-for-developing-Kiosk-Mode-applications" class="headerlink" title="Approaches for developing Kiosk Mode applications"></a>Approaches for developing Kiosk Mode applications</h2><p>Following are the two approaches that you can take depending on your expertise and skill.</p>
<p>兩種方式可以達到Kiosk Mode:</p>
<ul>
<li>Developing as a Launcher application</li>
<li>Building a custom ROM</li>
</ul>
<h1 id="Developing-as-a-Launcher-application"><a href="#Developing-as-a-Launcher-application" class="headerlink" title="Developing as a Launcher application"></a>Developing as a Launcher application</h1><h3 id="總是只有你的APP被執行-Only-your-app-is-allowed-to-run-always"><a href="#總是只有你的APP被執行-Only-your-app-is-allowed-to-run-always" class="headerlink" title="總是只有你的APP被執行 (Only your app is allowed to run always)"></a>總是只有你的APP被執行 (Only your app is allowed to run always)</h3><p>安裝你的Launcher後。你可以用使用指令<code>pm disable &lt;PACKAGE_OR_COMPONENT&gt;</code>關閉舊的Launcher APP。</p>
<p>此時，開機後你的Launcher APP會自動被開啟。(沒有什麼花招 ＸＤ)</p>
<h3 id="檢查有沒有應用程式被打開-Detect-when-new-applications-are-opened"><a href="#檢查有沒有應用程式被打開-Detect-when-new-applications-are-opened" class="headerlink" title="檢查有沒有應用程式被打開 (Detect when new applications are opened)"></a>檢查有沒有應用程式被打開 (Detect when new applications are opened)</h3><p>你可能需要知道被執行的APP是不是被允許使用的，以下提供兩種方法：</p>
<ol>
<li><p>使用<strong>repeated alarm</strong><br>例如每五秒，從目前執行中的APP取得最上面的Activity(topmost activity) -&gt; 檢查他的Package是否允許被執行 -&gt; <font color="red"><code>如果是不允許</code></font> -&gt; 回到首頁，並使用<code>ActivityManager.killBackgroundProcess()</code>砍了這隻APP(無法作用在system apps)</p>
<font color="red">heavy on resources and drains battery very quickly</font></li>
<li>使用 <strong>AccessibilityService</strong><br>it lets you know when a new application window is opened and then you can check which application is currently running and act accordingly. This is on demand and is not heavy on resources. The caveat is that you have to manually enable the service from Settings –&gt; Accessibility. Assuming physical control over the devices, so this should not be an issue, but it’s manual and that’s the downside.</li>
</ol>
<h3 id="偵測APP被安裝及反安裝-Detect-if-new-applications-are-installed-or-uninstalled"><a href="#偵測APP被安裝及反安裝-Detect-if-new-applications-are-installed-or-uninstalled" class="headerlink" title="偵測APP被安裝及反安裝 (Detect if new applications are installed or uninstalled)"></a>偵測APP被安裝及反安裝 (Detect if new applications are installed or uninstalled)</h3><h3 id="關閉狀態欄-Disable-status-bar"><a href="#關閉狀態欄-Disable-status-bar" class="headerlink" title="關閉狀態欄 (Disable status bar)"></a>關閉狀態欄 (Disable status bar)</h3><p>you’ll need android.permission.SYSTEM_ALERT_WINDOW permission to put your view on top of all other windows.</p>
<p>Also you can make your Launcher app fullscreen as well.</p>
<h3 id="讓你的APP成為裝置管理者-Make-your-app-a-Device-Administrator"><a href="#讓你的APP成為裝置管理者-Make-your-app-a-Device-Administrator" class="headerlink" title="讓你的APP成為裝置管理者 (Make your app a Device Administrator)"></a>讓你的APP成為裝置管理者 (Make your app a Device Administrator)</h3><p>提供較高的存取權限來執行管理任務(provide some elevated access rights to perform administrative tasks)</p>
<p>如：remotely lock screen, wipe out the data</p>
<h3 id="自動更新-Automatic-Update"><a href="#自動更新-Automatic-Update" class="headerlink" title="自動更新 (Automatic Update)"></a>自動更新 (Automatic Update)</h3><p>如果你想要自動更新的支援，卻又不想要發佈在Play Store，然後你需要去root你的裝置</p>
<p>and run a separate app which will update your app when there is a new version.</p>
<p>This requires you to build a backend as well. I wrote a blog post on this topic some time ago, <a href="http://arnab.ch/blog/2012/01/android-auto-updating-homescreen-application/" target="_blank" rel="external">Android Auto-updating Homescreen Application</a></p>
<p>Source:</p>
<ul>
<li><a href="http://arnab.ch/blog/2013/11/developing-kiosk-mode-applications-in-android/" target="_blank" rel="external">Developing Kiosk Mode Applications in Android</a></li>
</ul>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/Android/">#Android</a> <a href="/tags/KIOSK/">#KIOSK</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>

</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    工作時的筆記
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2017/03/07/WWDC-2016-416/">WWDC 2016 416</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/03/03/建立純-swift-module/">建立純 swift module</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/03/02/Android-call-Swift-舊版/">Android call Swift 舊版</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/02/22/LLVM-Build/">LLVM Build</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/IOS/Localize/">Localize</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/lua/">lua</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Android/Auto-Restart/">Auto-Restart</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Android/Custom-Permission/">Custom_Permission</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/yume190">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/yume190">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:yume190@gmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>