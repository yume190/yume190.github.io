<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="主要成員：

Permission : com.yume190.provider.permission.XXX_API
Action : Action.StartService

將service的exported和enabled皆設為true，並透過設定intent-filter去接收特定的action。
宣告方式CalleeManifest.xml123456789101112131415161718192021222324&amp;lt;permission-group    android:name=&quot;com.yume190.provider.permissions&quot;    android:label=&quot;Permission 主標題&quot;    /&amp;gt;&amp;lt;permission    android:name=&quot;com.yume190.provider.permission.XXX_API&quot;    android:permissionGroup=&quot;com.yume190.provider.permissions&quot;    android:protectionLevel=&quot;normal&quot;    android:label=&quot;Permission 副標題&quot;    /&amp;gt;&amp;lt;application&amp;gt;    &amp;lt;service        android:name=&quot;MyService&quot;        android:exported=&quot;true&quot;        android:enabled=&quot;true&quot;        android:permission=&quot;com.yume190.provider.permission.XXX_API&quot;        &amp;gt;        &amp;lt;intent-filter&amp;gt;            &amp;lt;action android:name=&quot;Action.StartService&quot; /&amp;gt;        &amp;lt;/intent-filter&amp;gt;    &amp;lt;/service&amp;gt;&amp;lt;/application&amp;gt;">
    

    <!--Author-->
    
        <meta name="author" content="Yume">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Android Custom Permission"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Yume 練功地"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>Android Custom Permission - Yume 練功地</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2014/09/10/Android-2014-09-10-Android-Custom-Permission/">
                Android Custom Permission
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2014-09-10</span>
            
            <a href="#disqus_thread" class="comments">Kommentare</a>
            
                <span class="category">
                    <a href="/categories/Android/">Android</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <p>主要成員：</p>
<ul>
<li>Permission : <code>com.yume190.provider.permission.XXX_API</code></li>
<li>Action : <code>Action.StartService</code></li>
</ul>
<p>將service的<strong>exported</strong>和<strong>enabled</strong>皆設為true，並透過設定intent-filter去接收特定的action。</p>
<h2 id="宣告方式"><a href="#宣告方式" class="headerlink" title="宣告方式"></a>宣告方式</h2><figure class="highlight xml"><figcaption><span>CalleeManifest.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">permission-group</span></span><br><span class="line">    <span class="attr">android:name</span>=<span class="string">"com.yume190.provider.permissions"</span></span><br><span class="line">    <span class="attr">android:label</span>=<span class="string">"Permission 主標題"</span></span><br><span class="line">    /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">permission</span></span><br><span class="line">    <span class="attr">android:name</span>=<span class="string">"com.yume190.provider.permission.XXX_API"</span></span><br><span class="line">    <span class="attr">android:permissionGroup</span>=<span class="string">"com.yume190.provider.permissions"</span></span><br><span class="line">    <span class="attr">android:protectionLevel</span>=<span class="string">"normal"</span></span><br><span class="line">    <span class="attr">android:label</span>=<span class="string">"Permission 副標題"</span></span><br><span class="line">    /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">application</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">service</span></span><br><span class="line">        <span class="attr">android:name</span>=<span class="string">"MyService"</span></span><br><span class="line">        <span class="attr">android:exported</span>=<span class="string">"true"</span></span><br><span class="line">        <span class="attr">android:enabled</span>=<span class="string">"true"</span></span><br><span class="line">        <span class="attr">android:permission</span>=<span class="string">"com.yume190.provider.permission.XXX_API"</span></span><br><span class="line">        &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"Action.StartService"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">service</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h2><figure class="highlight xml"><figcaption><span>CallerManifest.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"com.yume190.provider.permission.XXX_API"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>CallerMain.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="string">"Action.StartService"</span>);</span><br><span class="line">startService(intent);</span><br></pre></td></tr></table></figure>
<h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><figure class="highlight xml"><figcaption><span>格式</span><a href="http://developer.android.com/guide/topics/manifest/permission-element.html" target="_blank" rel="external">Permission</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">permission</span> <span class="attr">android:description</span>=<span class="string">"string resource"</span></span><br><span class="line">            <span class="attr">android:icon</span>=<span class="string">"drawable resource"</span></span><br><span class="line">            <span class="attr">android:label</span>=<span class="string">"string resource"</span></span><br><span class="line">            <span class="attr">android:name</span>=<span class="string">"string"</span></span><br><span class="line">            <span class="attr">android:permissionGroup</span>=<span class="string">"string"</span></span><br><span class="line">            <span class="attr">android:protectionLevel</span>=<span class="string">[</span>"<span class="attr">normal</span>" | "<span class="attr">dangerous</span>" |</span><br><span class="line">                                     "<span class="attr">signature</span>" | "<span class="attr">signatureOrSystem</span>"] /&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="protectionLevel"><a href="#protectionLevel" class="headerlink" title="protectionLevel"></a>protectionLevel</h4><table>
<thead>
<tr>
<th style="text-align:left">Value</th>
<th style="text-align:left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">“normal”</td>
<td style="text-align:left">The default value. A lower-risk permission that gives requesting applications access to isolated application-level features, with minimal risk to other applications, the system, or the user. The system automatically grants this type of permission to a requesting application at installation, without asking for the user’s explicit approval (though the user always has the option to review these permissions before installing).</td>
</tr>
<tr>
<td style="text-align:left">“dangerous”</td>
<td style="text-align:left">A higher-risk permission that would give a requesting application access to private user data or control over the device that can negatively impact the user. Because this type of permission introduces potential risk, the system may not automatically grant it to the requesting application. For example, any dangerous permissions requested by an application may be displayed to the user and require confirmation before proceeding, or some other approach may be taken to avoid the user automatically allowing the use of such facilities.</td>
</tr>
<tr>
<td style="text-align:left">“signature”</td>
<td style="text-align:left">A permission that the system grants only if the requesting application is signed with the same certificate as the application that declared the permission. If the certificates match, the system automatically grants the permission without notifying the user or asking for the user’s explicit approval.</td>
</tr>
<tr>
<td style="text-align:left">“signatureOrSystem”</td>
<td style="text-align:left">A permission that the system grants only to applications that are in the Android system image or that are signed with the same certificate as the application that declared the permission. Please avoid using this option, as the signature protection level should be sufficient for most needs and works regardless of exactly where applications are installed. The “signatureOrSystem” permission is used for certain special situations where multiple vendors have applications built into a system image and need to share specific features explicitly because they are being built together.</td>
</tr>
</tbody>
</table>
<p>Source :</p>
<ul>
<li><a href="https://www.owasp.org/images/c/ca/ASDC12-An_InDepth_Introduction_to_the_Android_Permissions_Modeland_How_to_Secure_MultiComponent_Applications.pdf" target="_blank" rel="external">An In-Depth Introduction to the Android Permission Model</a></li>
<li><a href="http://stackoverflow.com/questions/8816623/how-to-use-custom-permissions-in-android" target="_blank" rel="external">How to use custom permissions in Android?</a></li>
<li><a href="http://developer.android.com/guide/topics/manifest/permission-element.html" target="_blank" rel="external">Android官方–permission</a></li>
<li><a href="http://stackoverflow.com/questions/16336595/using-application-service-in-another-application" target="_blank" rel="external">using application service in another application</a></li>
<li><a href="http://www.blackmoonit.com/2012/07/android-custom-permissions/" target="_blank" rel="external">Android Custom Permissions</a></li>
</ul>

    </div>

    

    
        <div class="post-tags">
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/tags/Android/">#Android</a> <a href="/tags/Custom-Permission/">#Custom_Permission</a>
        </div>
    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>

</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    工作時的筆記
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2016/12/05/OpenWRT-2016-12-05-uhttp-lua/">uhttp lua</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/12/01/Linux-2016-12-01-let-s-Make/">let&#39;s Make</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/11/24/OpenWRT-2016-11-24-OpenWRT-uci/">OpenWRT uci</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/11/24/OpenWRT-2016-11-24-OpenWRT-ubus/">OpenWRT ubus</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/IOS/UI/">UI</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Work/">Work</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Design-Pattern/Dependency-Injection/">Dependency Injection</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Google-API/">Google API</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/yume190">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/yume190">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:yume190@gmail.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>